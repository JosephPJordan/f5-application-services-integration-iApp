ltm classification signature-definition { }
ltm classification signature-update-schedule { }
ltm classification signature-version { }
ltm default-node-monitor {
    rule none
}
ltm dns analytics global-settings { }
ltm dns cache global-settings { }
ltm global-settings connection { }
ltm global-settings general {
    share-single-mac vmw-compat
}
ltm global-settings traffic-control { }
ltm persistence global-settings { }
ltm policy test_vs_standard_https_l7policy_l7policy {
    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
    controls { forwarding }
    last-modified 2017-06-29:05:02:59
    requires { ssl-persistence http client-ssl tcp }
    rules {
        0 {
            actions {
                0 {
                    forward
                    reset
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                }
            }
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            ordinal 1
            conditions {
                0 {
                    client-ssl
                    cipher-bits
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    values { 1024 }
                }
            }
        }
        1 {
            actions {
                0 {
                    forward
                    select
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    pool test_vs_standard_https_l7policy_pool_1
                }
            }
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            ordinal 2
            conditions {
                0 {
                    http-basic-auth
                    username
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    contains
                    values { hansolo }
                }
                1 {
                    http-host
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    not
                    values { www.milleniumfalcon.com }
                }
            }
        }
        2 {
            actions {
                0 {
                    forward
                    select
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    pool /Common/test_pool
                }
            }
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            ordinal 3
            conditions {
                0 {
                    http-host
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    case-sensitive
                    not
                    values { www.yoda.com }
                    missing
                }
            }
        }
        3 {
            actions {
                0 {
                    forward
                    reset
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                }
            }
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            ordinal 4
            conditions {
                0 {
                    http-uri
                    path
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    starts-with
                    values { /admiral /akbar }
                }
            }
        }
        4 {
            actions {
                0 {
                    http-reply
                    response
                    redirect
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    location http://www.c-3po.com
                }
            }
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            ordinal 5
            conditions {
                0 {
                    ssl-extension
                    ssl-client-hello
                    server-name
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    ends-with
                    values { ssl.skywalker.com }
                }
            }
        }
        5 {
            actions {
                0 {
                    log
                    write
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    message "Use the force!"
                }
                1 {
                    forward
                    reset
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                }
            }
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            ordinal 6
            conditions {
                0 {
                    http-uri
                    path-segment
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    index 1
                    values { chewbacca }
                }
            }
        }
        6 {
            actions {
                0 {
                    http-set-cookie
                    response
                    insert
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    name Stay
                    path /
                    value OnTarget
                }
            }
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            ordinal 7
            conditions {
                0 {
                    tcp
                    route-domain
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    internal
                    values { 100 }
                }
            }
        }
        7 {
            actions {
                0 {
                    http-header
                    response
                    insert
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    name X-Thats-No-Moon
                    value [IP::client_addr]
                }
                1 {
                    forward
                    select
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    pool test_vs_standard_https_l7policy_pool_1
                }
            }
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            ordinal 8
            conditions {
                0 {
                    http-uri
                    query-parameter
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    name princess
                    values { leia }
                }
            }
        }
        8 {
            actions {
                0 {
                    tcp-nagle
                    disable
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                }
            }
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            ordinal 9
            conditions {
                0 {
                    http-uri
                    path
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    starts-with
                    values { /r2d2 }
                }
            }
        }
        default {
            actions {
                0 {
                    forward
                    select
                    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
                    pool test_vs_standard_https_l7policy_pool_0
                }
            }
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            ordinal 10
        }
    }
    status published
    strategy /Common/first-match
}
ltm pool test_vs_standard_https_l7policy_pool_0 {
    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
    members {
        /Common/10.0.0.10%0:http {
            address 10.0.0.10
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            session monitor-enabled
            state checking
        }
        /Common/10.0.0.11%0:http {
            address 10.0.0.11
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            session user-disabled
            state checking
        }
        /Common/10.0.0.12%0:http {
            address 10.0.0.12
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            session user-disabled
            state checking
        }
    }
    monitor /Common/http 
}
ltm pool test_vs_standard_https_l7policy_pool_1 {
    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
    members {
        /Common/10.0.0.13%0:http {
            address 10.0.0.13
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            session monitor-enabled
            state checking
        }
        /Common/10.0.0.14%0:http {
            address 10.0.0.14
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            session user-disabled
            state checking
        }
        /Common/10.0.0.15%0:http {
            address 10.0.0.15
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            session user-disabled
            state checking
        }
    }
    monitor /Common/http 
}
ltm profile client-ssl test_vs_standard_https_l7policy_clientssl {
    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
    cert /Common/default.crt
    cert-key-chain {
        default {
            app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
            cert /Common/default.crt
            key /Common/default.key
        }
    }
    chain none
    inherit-certkeychain false
    key /Common/default.key
    passphrase none
}
ltm profile http test_vs_standard_https_l7policy_profile_http {
    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
    defaults-from /Common/http
    insert-xforwarded-for enabled
}
ltm tacdb licenseddb /Common/licensed-tacdb {
    partition none
}
ltm virtual test_vs_standard_https_l7policy {
    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
    description "Standard HTTPS Virtual Server with L7 policy"
    destination /Common/172.16.0.100%0:https
    fallback-persistence /Common/source_addr
    ip-protocol tcp
    mask 255.255.255.255
    persist {
        /Common/ssl {
            default yes
        }
    }
    policies {
        test_vs_standard_https_l7policy_l7policy { }
    }
    pool test_vs_standard_https_l7policy_pool_0
    profiles {
        /Common/httpcompression { }
        /Common/oneconnect { }
        /Common/tcp-lan-optimized {
            context serverside
        }
        /Common/tcp-wan-optimized {
            context clientside
        }
        test_vs_standard_https_l7policy_clientssl {
            context clientside
        }
        test_vs_standard_https_l7policy_profile_http { }
    }
    source 0.0.0.0/0
    source-address-translation {
        type automap
    }
    translate-address enabled
    translate-port enabled
    vs-index 41
}
ltm virtual test_vs_standard_https_l7policy_default_vs_redirect_80 {
    app-service /Common/test_vs_standard_https_l7policy.app/test_vs_standard_https_l7policy
    destination /Common/172.16.0.100%0:http
    ip-protocol tcp
    mask 255.255.255.255
    profiles {
        /Common/tcp-lan-optimized {
            context serverside
        }
        /Common/tcp-wan-optimized {
            context clientside
        }
        test_vs_standard_https_l7policy_profile_http { }
    }
    rules {
        /Common/_sys_https_redirect
    }
    source 0.0.0.0/0
    translate-address enabled
    translate-port enabled
    vs-index 42
}
asm predefined-policy POLICY_TEMPLATE_ACTIVESYNC_V1_0_V2_0_HTTP { }
asm predefined-policy POLICY_TEMPLATE_ACTIVESYNC_V1_0_V2_0_HTTPS { }
asm predefined-policy POLICY_TEMPLATE_LOTUSDOMINO_6_5_HTTP { }
asm predefined-policy POLICY_TEMPLATE_LOTUSDOMINO_6_5_HTTPS { }
asm predefined-policy POLICY_TEMPLATE_ORACLE_10G_PORTAL_HTTP { }
asm predefined-policy POLICY_TEMPLATE_ORACLE_10G_PORTAL_HTTPS { }
asm predefined-policy POLICY_TEMPLATE_ORACLE_APPLICATIONS_11I_HTTP { }
asm predefined-policy POLICY_TEMPLATE_ORACLE_APPLICATIONS_11I_HTTPS { }
asm predefined-policy POLICY_TEMPLATE_OWA_EXCHANGE_2003_HTTP { }
asm predefined-policy POLICY_TEMPLATE_OWA_EXCHANGE_2003_HTTPS { }
asm predefined-policy POLICY_TEMPLATE_OWA_EXCHANGE_2003_WITH_ACTIVESYNC_HTTP { }
asm predefined-policy POLICY_TEMPLATE_OWA_EXCHANGE_2003_WITH_ACTIVESYNC_HTTPS { }
asm predefined-policy POLICY_TEMPLATE_OWA_EXCHANGE_2007_HTTP { }
asm predefined-policy POLICY_TEMPLATE_OWA_EXCHANGE_2007_HTTPS { }
asm predefined-policy POLICY_TEMPLATE_OWA_EXCHANGE_2007_WITH_ACTIVESYNC_HTTP { }
asm predefined-policy POLICY_TEMPLATE_OWA_EXCHANGE_2007_WITH_ACTIVESYNC_HTTPS { }
asm predefined-policy POLICY_TEMPLATE_OWA_EXCHANGE_2010_HTTP { }
asm predefined-policy POLICY_TEMPLATE_OWA_EXCHANGE_2010_HTTPS { }
asm predefined-policy POLICY_TEMPLATE_PEOPLESOFT_PORTAL_9_HTTP { }
asm predefined-policy POLICY_TEMPLATE_PEOPLESOFT_PORTAL_9_HTTPS { }
asm predefined-policy POLICY_TEMPLATE_RAPID_DEPLOYMENT { }
asm predefined-policy POLICY_TEMPLATE_SAP_NETWEAVER_7_HTTP { }
asm predefined-policy POLICY_TEMPLATE_SAP_NETWEAVER_7_HTTPS { }
asm predefined-policy POLICY_TEMPLATE_SHAREPOINT_2003_HTTP { }
asm predefined-policy POLICY_TEMPLATE_SHAREPOINT_2003_HTTPS { }
asm predefined-policy POLICY_TEMPLATE_SHAREPOINT_2007_HTTP { }
asm predefined-policy POLICY_TEMPLATE_SHAREPOINT_2007_HTTPS { }
asm predefined-policy POLICY_TEMPLATE_SHAREPOINT_2010_HTTP { }
asm predefined-policy POLICY_TEMPLATE_SHAREPOINT_2010_HTTPS { }
